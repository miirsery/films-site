{"version":3,"sources":["js/cart.js"],"names":["itemsBtn","document","querySelectorAll","favoriteList","querySelector","itemsBtnImgDisable","favoriteShowListBtn","favorite","deleteBtn","randomId","Math","random","toString","substring","generateCartProduct","img","title","id","removeFilm","filmParent","remove","forEach","el","closest","setAttribute","addEventListener","e","preventDefault","itemsBtnImg","self","currentTarget","parent","child","dataset","getAttribute","textContent","style","display","console","log","insertAdjacentHTML","childElementCount","pointerEvents","target","classList","contains"],"mappings":"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","file":"cart.c18a2f96.js","sourceRoot":"..","sourcesContent":["const itemsBtn = document.querySelectorAll('.content__favorite-btn');\r\nconst favoriteList = document.querySelector('.favorite-modal__list');\r\nconst itemsBtnImgDisable = document.querySelectorAll('.content__favorite-img-disable');\r\nconst favoriteShowListBtn = document.querySelector('.favorite-btn');\r\nconst favorite = document.querySelector('.favorite');\r\nconst deleteBtn = document.querySelector('.favorite-modal__item-delete');\r\n\r\nconst randomId = () => {\r\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\r\n};\r\n\r\nconst generateCartProduct = (img, title, id) => {\r\n    return `\r\n    <li class=\"favorite-modal__item\" data-id=\"${id}>\r\n    <div class=\"favorite-modal-left\">\r\n        <img class=\"favorite-modal__item-img\" src=\"${img}\" alt=\"\"\">\r\n        <h5 class=\"favorite-modal__item-title\"> ${title}</h5>\r\n    </div>\r\n    <button class=\"favorite-modal__item-delete\" aria-label=\"Удалить\">Удалить</button>\r\n</li>\r\n\t`;\r\n};\r\n\r\nconst removeFilm = (filmParent) => {\r\n    filmParent.remove();\r\n}\r\n\r\nitemsBtn.forEach(el => {\r\n    el.closest('.content__link').setAttribute('data-id', randomId());\r\n    el.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        let itemsBtnImg = el.querySelector('.content__favorite-img');\r\n        let itemsBtnImgDisable = el.querySelector('.content__favorite-img-disable');\r\n        let self = e.currentTarget;\r\n        let parent = self.closest('.content__link');\r\n        let child = self.closest('.favorite-modal__item');\r\n        let id = parent.dataset.id;\r\n        let img = parent.querySelector('.content__img').getAttribute('src');\r\n        let title = parent.querySelector('.content__title').textContent;\r\n\r\n\r\n\r\n\r\n        itemsBtnImg.style.display = (itemsBtnImg.style.display == 'none') ? 'block' : 'none';\r\n        itemsBtnImgDisable.style.display = (itemsBtnImgDisable.style.display == 'block') ? 'none' : 'block';\r\n        if (itemsBtnImgDisable.style.display == 'block') {\r\n            console.log('actove')\r\n            favoriteList.insertAdjacentHTML('afterbegin', generateCartProduct(img, title, id));\r\n            if (favoriteList.childElementCount >= 1)\r\n                favoriteShowListBtn.style.pointerEvents = 'all';\r\n\r\n        }\r\n        else {\r\n            console.log('Imagine that it`s deleted');\r\n        }\r\n\r\n    });\r\n});\r\n\r\n\r\nfavoriteList.addEventListener('click', (e) => {\r\n    if (e.target.classList.contains('favorite-modal__item-delete')) {\r\n        console.log(e.target);\r\n        removeFilm(e.target.closest('.favorite-modal__item'));\r\n\r\n        if (favoriteList.childElementCount == 0)\r\n            favoriteShowListBtn.style.pointerEvents = 'none';\r\n    }\r\n})"]}